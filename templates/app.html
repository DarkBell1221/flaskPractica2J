<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscripción a Curso</title>

    <!-- Añadir Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Añadir jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Añadir jQuery Validation -->
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.19.3/jquery.validate.min.js"></script>

    <style>
        /* Para resaltar errores */
        label.error {
            color: red;
            font-size: 0.875em;
            margin-top: 0.25em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="my-4">Formulario de Inscripción a Curso</h1>

        <!-- Formulario de inscripción -->
        <form id="formInscripcion" novalidate>
            <div class="form-group">
                <label for="nombreCompleto">Nombre y Apellido:</label>
                <input type="text" class="form-control" id="nombreCompleto" name="nombreCompleto" placeholder="Ingresa tu nombre y apellido" required>
            </div>

            <div class="form-group">
                <label for="curso">Curso:</label>
                <select class="form-control" id="curso" name="curso" required>
                    <option value="">Selecciona un curso</option>
                    <option value="curso1">Curso 1</option>
                    <option value="curso2">Curso 2</option>
                    <option value="curso3">Curso 3</option>
                </select>
            </div>

            <div class="form-group">
                <label for="telefono">Teléfono:</label>
                <input type="text" class="form-control" id="telefono" name="telefono" placeholder="Ingresa tu teléfono (solo números)" required>
            </div>

            <div class="form-group">
                <label for="confirmarTelefono">Confirmar Teléfono:</label>
                <input type="text" class="form-control" id="confirmarTelefono" name="confirmarTelefono" placeholder="Reingresa tu teléfono" required>
            </div>

            <button type="submit" class="btn btn-primary">Solicitar Inscripción</button>
        </form>

        <!-- Tabla de registros -->
        <h2 class="my-4">Registros de Inscripciones</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre y Apellido</th>
                    <th>Curso</th>
                    <th>Teléfono</th>
                </tr>
            </thead>
            <tbody id="tablaRegistros">
                <!-- Aquí se llenarán los registros dinámicamente con JavaScript -->
            </tbody>
        </table>
    </div>

    <!-- Añadir Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Validación del formulario con jQuery Validation -->
    <script>
        $(document).ready(function() {
            // Validación del formulario
            $("#formInscripcion").validate({
                rules: {
                    nombreCompleto: {
                        required: true,
                        minlength: 3,
                        maxlength: 50,
                        lettersonly: true
                    },
                    curso: {
                        required: true
                    },
                    telefono: {
                        required: true,
                        digits: true,
                        minlength: 10,
                        maxlength: 10
                    },
                    confirmarTelefono: {
                        required: true,
                        equalTo: "#telefono"
                    }
                },
                messages: {
                    nombreCompleto: {
                        required: "Este campo es obligatorio.",
                        minlength: "Debe tener al menos 3 caracteres.",
                        maxlength: "No puede tener más de 50 caracteres.",
                        lettersonly: "Solo se permiten letras."
                    },
                    curso: {
                        required: "Por favor selecciona un curso."
                    },
                    telefono: {
                        required: "Este campo es obligatorio.",
                        digits: "Solo se permiten números.",
                        minlength: "Debe tener exactamente 10 dígitos.",
                        maxlength: "Debe tener exactamente 10 dígitos."
                    },
                    confirmarTelefono: {
                        required: "Este campo es obligatorio.",
                        equalTo: "El teléfono debe coincidir con el anterior."
                    }
                },
                errorPlacement: function(error, element) {
                    error.appendTo(element.closest(".form-group"));
                }
            });

            // Método personalizado para validar letras
            $.validator.addMethod("lettersonly", function(value, element) {
                return this.optional(element) || /^[a-zA-Z\s]+$/.test(value);
            }, "Solo se permiten letras y espacios.");

            // Llenar la tabla con los registros desde el servidor (simulado con datos ficticios)
            function cargarRegistros() {
                const registros = [
                    {id: 1, nombre: "Juan Pérez", curso: "Curso 1", telefono: "1234567890"},
                    {id: 2, nombre: "María Gómez", curso: "Curso 2", telefono: "0987654321"}
                ];

                let tabla = $("#tablaRegistros");
                registros.forEach(function(registro) {
                    let fila = `<tr>
                        <td>${registro.id}</td>
                        <td>${registro.nombre}</td>
                        <td>${registro.curso}</td>
                        <td>${registro.telefono}</td>
                    </tr>`;
                    tabla.append(fila);
                });
            }

            // Llamamos a la función para cargar registros
            cargarRegistros();
        });
    </script>
</body>
</html>

